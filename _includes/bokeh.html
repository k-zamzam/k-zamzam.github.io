<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Bokeh Plot</title>
    <style>
      html, body {
        box-sizing: border-box;
        display: flow-root;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-3.7.0.min.js"></script>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.7.0.min.js"></script>
    <script type="text/javascript">
        Bokeh.set_log_level("info");
    </script>
  </head>
  <body>
    <div id="b441baf2-0127-48dd-8f9b-93cf3ad54c56" data-root-id="p1088" style="display: contents;"></div>
  
    <script type="application/json" id="f3053ae1-687a-4b2d-8863-e7067430366f">
      {"c15f2b39-9440-4275-88bf-8bbeaafb6598":{"version":"3.7.0","title":"Bokeh Application","roots":[{"type":"object","name":"Column","id":"p1088","attributes":{"children":[{"type":"object","name":"Row","id":"p1087","attributes":{"children":[{"type":"object","name":"Slider","id":"p1082","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1083","attributes":{"args":{"type":"map","entries":[["source",{"type":"object","name":"ColumnDataSource","id":"p1045","attributes":{"selected":{"type":"object","name":"Selection","id":"p1046","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1047"},"data":{"type":"map","entries":[["district",["BAYVIEW","CENTRAL","INGLESIDE","MISSION","NORTHERN","PARK","RICHMOND","SOUTHERN","TARAVAL","TENDERLOIN"]],["count",[866,319,349,2071,763,381,138,2039,231,2627]]]}}}],["slider",{"id":"p1082"}]]},"code":"\n    const year = slider.value;\n    const all_data = {\"2003\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [866, 319, 349, 2071, 763, 381, 138, 2039, 231, 2627]}, \"2004\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [1105, 319, 356, 1906, 862, 329, 153, 1652, 227, 2883]}, \"2005\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [774, 172, 309, 1563, 739, 350, 90, 1199, 224, 3024]}, \"2006\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [808, 227, 357, 1902, 897, 401, 165, 1289, 193, 2704]}, \"2007\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [779, 299, 451, 1518, 911, 565, 180, 1717, 206, 3734]}, \"2008\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [583, 392, 403, 1653, 701, 474, 137, 1956, 335, 4822]}, \"2009\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [700, 383, 392, 1484, 794, 601, 185, 2022, 415, 4795]}, \"2010\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [646, 260, 552, 1360, 741, 448, 209, 1729, 231, 2860]}, \"2011\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [645, 181, 323, 965, 572, 353, 127, 1223, 242, 2171]}, \"2012\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [683, 224, 290, 824, 549, 407, 176, 931, 224, 1999]}, \"2013\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [596, 237, 327, 1022, 714, 367, 169, 1284, 196, 1760]}, \"2014\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [437, 349, 288, 806, 607, 357, 166, 951, 142, 1221]}, \"2015\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [432, 208, 212, 643, 505, 248, 61, 696, 112, 1077]}, \"2016\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [322, 207, 190, 633, 524, 273, 76, 913, 107, 957]}, \"2017\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\"], \"count\": [193, 147, 164, 437, 511, 131, 92, 755, 104, 731]}, \"2018\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\", \"OUT OF SF\"], \"count\": [125, 273, 163, 581, 240, 130, 65, 509, 81, 1755, 43]}, \"2019\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\", \"OUT OF SF\"], \"count\": [115, 264, 103, 654, 283, 150, 54, 442, 81, 1336, 19]}, \"2020\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\", \"OUT OF SF\"], \"count\": [85, 135, 42, 229, 190, 58, 39, 255, 29, 1390, 25]}, \"2021\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\", \"OUT OF SF\"], \"count\": [93, 122, 49, 185, 101, 36, 22, 199, 31, 1296, 68]}, \"2022\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\", \"OUT OF SF\"], \"count\": [114, 135, 72, 212, 281, 34, 24, 712, 28, 2079, 80]}, \"2023\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\", \"OUT OF SF\"], \"count\": [81, 169, 78, 393, 310, 44, 28, 704, 25, 2429, 33]}, \"2024\": {\"district\": [\"BAYVIEW\", \"CENTRAL\", \"INGLESIDE\", \"MISSION\", \"NORTHERN\", \"PARK\", \"RICHMOND\", \"SOUTHERN\", \"TARAVAL\", \"TENDERLOIN\", \"OUT OF SF\"], \"count\": [94, 214, 69, 583, 245, 27, 29, 631, 39, 2170, 22]}};\n    const year_data = all_data[year];\n    source.data = year_data;\n    source.change.emit();\n    \n    const plot = Bokeh.documents[0].get_model_by_name(\"crime_plot\");\n    plot.title.text = \"Drug-Related Crimes by District in \" + year;\n"}}]]]},"title":"Select Year","bar_color":"#6baed6","start":2003,"end":2024,"value":2003}},{"type":"object","name":"Spacer","id":"p1086","attributes":{"width":10}},{"type":"object","name":"Button","id":"p1084","attributes":{"js_event_callbacks":{"type":"map","entries":[["button_click",[{"type":"object","name":"CustomJS","id":"p1085","attributes":{"args":{"type":"map","entries":[["slider",{"id":"p1082"}],["button",{"id":"p1084"}]]},"code":"\n    if (!window._bokeh_slider_interval) {\n        let start = slider.start;\n        let end = slider.end;\n        window._bokeh_slider_interval = setInterval(() =&gt; {\n            let current = slider.value;\n            slider.value = (current &lt; end) ? current + 1 : start;\n        }, 800);\n        button.label = \"\u275a\u275a Pause\";\n    } else {\n        clearInterval(window._bokeh_slider_interval);\n        window._bokeh_slider_interval = null;\n        button.label = \"\u25ba Play\";\n    }\n"}}]]]},"width":60,"label":"\u25ba Play"}}]}},{"type":"object","name":"Figure","id":"p1048","attributes":{"name":"crime_plot","width":800,"height":450,"x_range":{"type":"object","name":"FactorRange","id":"p1058","attributes":{"factors":["BAYVIEW","CENTRAL","INGLESIDE","MISSION","NORTHERN","PARK","RICHMOND","SOUTHERN","TARAVAL","TENDERLOIN"]}},"y_range":{"type":"object","name":"Range1d","id":"p1059","attributes":{"end":5000}},"x_scale":{"type":"object","name":"CategoricalScale","id":"p1060"},"y_scale":{"type":"object","name":"LinearScale","id":"p1061"},"title":{"type":"object","name":"Title","id":"p1051","attributes":{"text":"Drug-Related Crimes by District in 2003","text_color":"#5B5B5B","text_font":"Helvetica","text_font_size":"1.15em"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1079","attributes":{"data_source":{"id":"p1045"},"view":{"type":"object","name":"CDSView","id":"p1080","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1081"}}},"glyph":{"type":"object","name":"VBar","id":"p1076","attributes":{"x":{"type":"field","field":"district"},"width":{"type":"value","value":0.7},"top":{"type":"field","field":"count"},"line_color":{"type":"value","value":"#6baed6"},"fill_color":{"type":"value","value":"#6baed6"},"hatch_color":{"type":"value","value":"#6baed6"}}},"nonselection_glyph":{"type":"object","name":"VBar","id":"p1077","attributes":{"x":{"type":"field","field":"district"},"width":{"type":"value","value":0.7},"top":{"type":"field","field":"count"},"line_color":{"type":"value","value":"#6baed6"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#6baed6"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#6baed6"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VBar","id":"p1078","attributes":{"x":{"type":"field","field":"district"},"width":{"type":"value","value":0.7},"top":{"type":"field","field":"count"},"line_color":{"type":"value","value":"#6baed6"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#6baed6"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#6baed6"},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1057","attributes":{"tools":[{"type":"object","name":"HoverTool","id":"p1072","attributes":{"renderers":"auto","tooltips":[["District","@district"],["Crimes","@count"]]}}]}},"toolbar_location":null,"left":[{"type":"object","name":"LinearAxis","id":"p1067","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1068","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1069"},"axis_label":"Number of Crimes","axis_label_standoff":10,"axis_label_text_color":"#5B5B5B","axis_label_text_font":"Helvetica","axis_label_text_font_size":"1.25em","axis_label_text_font_style":"normal","major_label_policy":{"type":"object","name":"AllLabels","id":"p1070"},"major_label_text_color":"#5B5B5B","major_label_text_font":"Helvetica","major_label_text_font_size":"1.025em","axis_line_color":"#5B5B5B","axis_line_alpha":0,"major_tick_line_color":"#5B5B5B","major_tick_line_alpha":0,"minor_tick_line_color":"#5B5B5B","minor_tick_line_alpha":0}}],"below":[{"type":"object","name":"CategoricalAxis","id":"p1062","attributes":{"ticker":{"type":"object","name":"CategoricalTicker","id":"p1063"},"formatter":{"type":"object","name":"CategoricalTickFormatter","id":"p1064"},"axis_label":"District","axis_label_standoff":10,"axis_label_text_color":"#5B5B5B","axis_label_text_font":"Helvetica","axis_label_text_font_size":"1.25em","axis_label_text_font_style":"normal","major_label_orientation":0.8,"major_label_policy":{"type":"object","name":"AllLabels","id":"p1065"},"major_label_text_color":"#5B5B5B","major_label_text_font":"Helvetica","major_label_text_font_size":"1.025em","axis_line_color":"#5B5B5B","axis_line_alpha":0,"major_tick_line_color":"#5B5B5B","major_tick_line_alpha":0,"minor_tick_line_color":"#5B5B5B","minor_tick_line_alpha":0}}],"center":[{"type":"object","name":"Grid","id":"p1066","attributes":{"visible":false,"axis":{"id":"p1062"}}},{"type":"object","name":"Grid","id":"p1071","attributes":{"visible":false,"dimension":1,"axis":{"id":"p1067"}}}]}}]}}]}}
    </script>
    <script type="text/javascript">
      (function() {
        const fn = function() {
          Bokeh.safely(function() {
            (function(root) {
              function embed_document(root) {
              const docs_json = document.getElementById('f3053ae1-687a-4b2d-8863-e7067430366f').textContent;
              const render_items = [{"docid":"c15f2b39-9440-4275-88bf-8bbeaafb6598","roots":{"p1088":"b441baf2-0127-48dd-8f9b-93cf3ad54c56"},"root_ids":["p1088"]}];
              root.Bokeh.embed.embed_items(docs_json, render_items);
              }
              if (root.Bokeh !== undefined) {
                embed_document(root);
              } else {
                let attempts = 0;
                const timer = setInterval(function(root) {
                  if (root.Bokeh !== undefined) {
                    clearInterval(timer);
                    embed_document(root);
                  } else {
                    attempts++;
                    if (attempts > 100) {
                      clearInterval(timer);
                      console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                    }
                  }
                }, 10, root)
              }
            })(window);
          });
        };
        if (document.readyState != "loading") fn();
        else document.addEventListener("DOMContentLoaded", fn);
      })();
    </script>
  </body>
</html>